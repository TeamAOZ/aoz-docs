<?DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="" />
        <meta name="author" content="aoz studio" />
        <meta name="keywords" content="aoz, studio, basic, amos, stos, amiga, atari, code, coding, program, development, html, javascript, game, application, " />
        <meta name="google-site-verification" content="">
        <meta name='copyright' content='AOZ Studio'>
        <meta name='Classification' content='Development'>
        <meta name='url' content='https://doc.aoz.studio/collision%20with%20the%20actor%20instruction'>
        <meta name='identifier-URL' content='https://doc.aoz.studio/collision%20with%20the%20actor%20instruction'>
        <meta name='pagename' content='AOZ Docs - COLLISION WITH THE ACTOR INSTRUCTION'>
        <meta name='rating' content='General'>
        <meta name='revisit-after' content='7 days'>
        <meta name='target' content='all'>
        <meta name='date' content='Sun Apr 30 2023'>

        <title>AOZ Docs - COLLISION WITH THE ACTOR INSTRUCTION</title>

        <!-- STYLESHEETS -->
        <link rel="stylesheet" href="https://stackedit.io/style.css" />
        <link rel="stylesheet" href="https://doc.aoz.studio/public/styles/prism.css" />

        <style type="text/css">
            /* PrismJS 1.29.0
            https://prismjs.com/download.html#themes=prism-tomorrow&languages=markup css clike javascript */
            code[class*=language-],pre[class*=language-]{color:#ccc;background:0 0;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}

            @font-face {
                font-family: 'Avenir Next LT Pro';
                src: url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpb.woff2') format('woff2'),
                    url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpb.woff') format('woff');
                font-weight: bold;
                font-style: normal;
                font-display: swap;
            }

            @font-face {
                font-family: 'Avenir Next LT Pro';
                src: url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpi.woff2') format('woff2'),
                    url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpi.woff') format('woff');
                font-weight: normal;
                font-style: italic;
                font-display: swap;
            }

            @font-face {
                font-family: 'Avenir Next LT Pro';
                src: url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpr.woff2') format('woff2'),
                    url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpr.woff') format('woff');
                font-weight: normal;
                font-style: normal;
                font-display: swap;
            }

            @font-face {
                font-family: 'opendyslexicmonoregular';
                src: url('https://doc.aoz.studio/public/styles/fonts/dyslexia/opendyslexicmono-regular-webfont.woff2') format('woff2'),
                    url('https://doc.aoz.studio/public/styles/fonts/dyslexia/opendyslexicmono-regular-webfont.woff') format('woff');
                font-weight: normal;
                font-style: normal;

            }

            /**
                COLORS
            */
            :root{
                --primary-dark-bg-grey: #1C1C1C;
                --primary-dark-bg-white: #FFFFFF;
                --primary-dark-bg-orange: #FEAC00;
                --primary-dark-bg-blue: #355470;
                --primary-dark-bg-cyan: #048FAF;
                --primary-dark-bg-red: #CC0000;

                --second-dark-bg-grey: #A1A1A1;
                --second-dark-bg-blue: #2E475D;
                --second-dark-bg-cyan: #112D3C;
                --second-dark-bg-black: #000000;

                --primary-light-bg-white: #FFFFFF;
                --primary-light-bg-orange: #FFAB00;
                --primary-light-bg-blue: #17455E;
                --primary-light-bg-cyan: #048FAF;

                --second-light-bg-black: #000000;
                --second-light-bg-blue1: #102D3D;
                --second-light-bg-blue2: #153648;
                --second-light-bg-cyan1: #082E41;
                --second-light-bg-cyan2: #286074;
                --second-light-bg-orange1: #E29000;
                --second-light-bg-orange2: #FFAB00;
            }

            input:focus
            {
                outline: none;
            }

            /* width */
            ::-webkit-scrollbar {
            width: 10px;
            }

            /* Track */
            ::-webkit-scrollbar-track {
            background: var(--primary-dark-bg-blue);
            }

            /* Handle */
            ::-webkit-scrollbar-thumb {
            background: var(--second-dark-bg-grey);
            }

            /* Handle on hover */
            ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark-bg-orange);
            }

            .splitter
            {
                background-color: var( --primary-dark-bg-grey );
            }

            .splitter>.gutter
            {
                border: none;
                background-color: var( --primary-dark-bg-blue );
            }

            .panel
            {
                border: none;
                width: 100%;
                background-color: var( --primary-dark-bg-grey );
            }

            .panel .panel-content
            {
                background-color: var( --primary-dark-bg-grey );
            }

            .panel .panel-title
            {
                background-color:var( --primary-dark-bg-blue );
                color: var( --second-dark-bg-grey );
                border: none;
            }

            .panel .panel-title .caption
            {
                background-color:var( --primary-dark-bg-blue );
                color: var( --second-dark-bg-grey );
                border: none;
            }

            .panel .panel-title .icon
            {
                background-color:var( --primary-dark-bg-blue );
                color: var( --second-dark-bg-grey );
                border: none;
            }

            html, body
            {
                color: rgba(255,255,255,.75);
                background-color: #202020;
                font-family: 'Avenir Next LT Pro';
                font-size: 18px;
            }

            h1
            {
                font-size: 24px;
                color: var(--primary-dark-bg-cyan);
                font-weight: bold;
            }

            h2
            {
                font-size: 18px;
                color: var(--primary-dark-bg-cyan);
                font-weight: bold;
                margin-block-end:1;
            }

            h3
            {
                font-size: 14px;
                color: var(--primary-dark-bg-cyan);
                font-weight: bold;
                margin-block-end:0;
            }

            h4
            {
                font-size: 16px;
                color: var(--primary-dark-bg-cyan);
                margin-block-end:0;
            }

            pre
            {
                margin-block-start:0;
            }

            p
            {
                margin-block-start: 0;
            }

            td
            {
                border: none;
                vertical-align: middle;
            }

            .compatibility
            {
                position: absolute;
                top: 0px;
                width: 100%;
                height: 32px;
                text-align: right;
                padding: 4px;
                font-size: 14px;
            }
            .compatibility span
            {
                position:relative;
                top: 3px;
            }
            .compatibility img
            {
                padding-left: 4px;
            }

            #topics h1
            {
                background-image: url(svg/magic-hat.svg);
                background-repeat: no-repeat;
                background-position: left center;
                background-size: 24px;
                padding-left: 34px;
                color: var(--second-dark-bg-grey);
            }

            #topics ul
            {
                list-style-type: caret;
            }

            #topics .item_hide
            {
                display: none;
            }

            #topics .item_show
            {
                display: block;
            }

            #topics li
            {
                list-style-type: none;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: 10px;
                padding-left: 22px;
                color: var(--primary-dark-bg-cyan);
                cursor: pointer;
            }

            #topics li.chapter
            {
                background-image: url( svg/tick-ul.svg );
                font-weight: bold;
            }

            #topics li.page
            {
                background-image: url( svg/tick-li.svg );
            }

            #topics .select-topic
            {
                font-weight: bold;
                color: var( --primary-dark-bg-white );
            }

            a:not([class]) {
                color: var(--primary-dark-bg-orange);
            }

            a:not([class]):hover {
                color: var(--primary-light-bg-white);
                text-decoration: none;
            }

            #topics a:not([class]) {
                color: var(--primary-light-bg-cyan);
            }

            #topics a:not([class]):hover {
                color: var(--primary-light-bg-white);
                text-decoration: none;
            }
            .version
            {
                font-family: 'courier new';
                font-size: 12px;
                color: #00C0DD;
                position: absolute;
                left: 8px;
                top: 8px;
                z-index: 1000;
            }
            #toolbar
            {
                width: 100%;
                height: 48px;
                border-bottom: 2px #303030 solid;
                padding: 8px;
            }

            #toolbarBottom
            {
                width: 100%;
                height: 48px;
                border-bottom: 2px #303030 solid;
                padding: 8px;
                display: none;
            }

            #toolbar .mif-3x
            {
                margin-left: 8px;
                font-size: 32px;
            }

            #toolbar .mif-3x:hover
            {
                color: var( --primary-dark-bg-white );
                text-shadow: 0px 0px 8px var( --primary-dark-bg-orange );
            }

            #toolbar select
            {
                position: relative;
                font-size: 16px;
                font-family: "Avenir Next LT pro";
                color: #444444;
                display: none;
                border-radius: 16px;
                width: 64px;
                height: 24px;
                top: -10px;
                padding-left: 8px;
            }

            .search
            {
                position: absolute;
                display: inline-block;
                height: 48px;
                margin-left: 16px;
                margin-right: 16px;
                right: 0px;
                width: 50%;
            }

            .search input
            {
                position: absolute;
                width: 100%;
                height: 40px;
                border-radius: 33px;
                margin-left: 8px;
                padding-left: 40px;
                padding-right: 8px;
                top: -5px;
                background-image: url(svg/search.svg);
                background-repeat: no-repeat;
                background-position: 8px center;
                background-size: 28px;
                font-size: 24px;
                font-family: "Avenir Next LT pro";
                color: #444444;
            }

            .bloc-search
            {
                margin-block-end: 8px;
                padding: 8px;
                border-top: 1px solid #444444;
            }

            .bloc-search b
            {
            color: var(--primary-light-bg-orange);
            cursor: pointer;
            }

            .search_results
            {
                position: absolute;
                top: 0px;
                left:0px;
                width: 100%;
                text-align: right;
            }

            .scrollpane
            {
                position:relative;
                overflow:auto;
                width:100%;
                height:100%
            }

            #topics
            {
                width: 100%;
                height: 100%;
                height: auto;
                padding: 16px;
            }

            #page
            {
                margin-top:16px;
                width: 90%;
                height: 100%;
                margin-left: auto;
                margin-right: auto;
            }

            #md_login
            {
                display: none;
                position: fixed;
                left: 16px;
                top: 56px;
                width: 40px;
                height: 40px;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: contain;
                background-image: url(svg/login.svg);
                z-index: 100;
                cursor: pointer;
            }

            #md_gator
            {
                display: none;
                position: fixed;
                left: 16px;
                top: 56px;
                width: 40px;
                height: 40px;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: contain;
                background-image: url(svg/aligator.svg);
                z-index: 100;
                cursor: pointer;
            }

            #md_sync
            {
                display: none;
                position: fixed;
                right: 64px;
                top: 56px;
                width: 40px;
                height: 40px;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: contain;
                background-image: url(svg/sync.svg);
                z-index: 100;
                cursor: pointer;
            }

            #md_edit
            {
                display: none;
                position: fixed;
                right: 16px;
                top: 56px;
                width: 40px;
                height: 40px;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: contain;
                background-image: url(svg/edit.svg);
                z-index: 100;
                cursor: pointer;
            }

            #frm_login
            {
                display: none;
                position: fixed;
                border-radius: 8px;
                width: 320px;
                height: 100px;
                background-color: var(--primary-dark-bg-blue);
                top: 64px;
                left: 80px;
                z-index: 100;
                padding: 12px;
            }

            #frm_login .log_tit
            {
                width: 100%;
                height: 40px;
                padding: 4px;
                text-align: center;
                color: #FFFFFF;
                font-weight:bold;
                font-size: 18px;
            }

            #frm_login button
            {
                position: absolute;
                right: 8px;
                top: 8px;
                border-radius: 4px;
                font-size: 17px;
                font-weight: bold;
                color: #c0c0c0;
                background-color:var(--primary-dark-bg-blue);
                border: 1px #c0c0c0 solid;
                width: 24px;
                height: 24px;
                cursor:pointer;
            }

            #frm_login input
            {
                width: 100%;
                height: 40px;
                padding: 4px;
                color: #404040;
                font-size: 18px;
            }

            #gator_mask
            {
                position: absolute;
                display: none;
                left: 0px;
                top: 0px;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 100;
                text-align: center;
            }

            #gator_mask button
            {
                position: absolute;
                right: 8px;
                top: 8px;
                border-radius: 4px;
                font-size: 37px;
                color: #ffffff;
                border: 1px #ffffff solid;
                width: 56px;
                height: 56px;
                cursor: pointer;
                background: none;
            }

            #gator_frame
            {
                position: relative;
                margin-top: 7%;
                margin-bottom: 7%;
                width: 70%;
                height: 70%;
                border: none;
            }

            blockquote
            {
                    color: inherit !important;
            }

            code
            {
                    line-height: 1.5em !important;
                    padding: 4px !important;
                    vertical-align: top !important;
            }

            button.copy-btn
            {
                position: relative;
                cursor: pointer;
                background-color: var(--second-dark-bg-grey);
                border-radius: 4px;
                border: none;
                height: 24px;
                width: 60px;
                font-size: 12px;
                font-family: 'Roboto Mono';
            }

            button.copy-btn:hover
            {
                background-color: var(--primary-dark-bg-cyan);
            }

            @media screen and (max-width:767px)
            {
            }

            @media screen and (min-width: 768px) and (max-width:1023px)
            {
            }

        </style>


        <!-- JAVASCRIPT -->
        <script type="text/javascript" src="https://unpkg.com/stackedit-js@1.0.7/docs/lib/stackedit.min.js"></script>
        <script type="text/javascript" src="https://doc.aoz.studio/public/js/libs/string-utils.js"></script>
        <script type="text/javascript" src="https://doc.aoz.studio/public/js/libs/md-parser.js"></script>
        <script type="text/javascript" src="https://doc.aoz.studio/public/js/libs/prism.js"></script>
        <script type="text/javascript" src="https://doc.aoz.studio/public/js/libs/languages/aoz.min.js"></script>

    </head>
    <body>
        <h1 id="collision-with-the-actor-instruction">COLLISION WITH THE ACTOR INSTRUCTION</h1>&#10;<p>We have just seen how easy it is to test a collision between two actor(s) with the function <strong>Actor  Col</strong>.</p>&#10;<p>The Actor instruction also allows you to test a collision using the <strong>OnCollision$</strong> parameter. It is a special parameter, used as a &#8220;Listener&#8221;, that is intended to monitor an event (in this case a collision) and alert the program. We'll come back to this in the chapter: THE LISTENER AND EVENT SYSTEM.</p>&#10;<p>Let's change our program as follows:</p>&#10;<pre><code class="prism language-basic">Actor &#34;magician&#34;, Image$=&#34;magic.png&#34;, OnCollision$=&#34;COLLISION&#34;&#10;Actor &#34;magician&#34;, Control$ = &#34;ArrowRight: offsetX=4; ArrowLeft: offsetX=-4; ArrowUp: offsetY=-4; ArrowDown: offsetY=4&#34;&#10;Actor &#34;lucie&#34;, 350, 350, Image$=&#34;lucie.png&#34;&#10;&#10;Do&#10; Refresh&#10;Loop&#10; &#10;Procedure COLLISION [INDEX2$]&#10; If INDEX2$ = &#34;lucie&#34; Then Boom&#10;End Proc&#10;</code></pre>&#10;<p>Run the program. Move the actor using the arrow keys, collide with lucie and&#8230; Boom!</p>&#10;<p>Let's break down the program.</p>&#10;<ul>&#10;<li><em><strong>Line 1</strong></em>: <strong>OnCollision$</strong> has been added to the Actor instruction. Its property is a string of characters, containing the name of the procedure: <strong>OnCollision$</strong>=&#8220;COLLISION&#8221;</li>&#10;</ul>&#10;<p>Note: A procedure is an independent program block, that here will be called when a collision occurs.</p>&#10;<ul>&#10;<li><em><strong>Line 3</strong></em>: We add our second &#171;lucie.png&#187; actor at position 350,350.</li>&#10;<li><em><strong>Lines 4 to 6</strong></em>: A simple loop to keep the program active.<br/>&#10;The <strong>Refresh</strong> instruction as mentioned before makes the display more fluid (you can try without it).</li>&#10;<li><em><strong>Line 7</strong></em>: A procedure, here called <strong>COLLISION</strong>  is created.<br/>&#10;To do this you have to type the <strong>Procedure</strong> statement followed by brackets around the parameter(s) to communicate to the procedure (here <strong>INDEX2$</strong> (in capital letters), whose name is not chosen at random, as we will see a little later). And then finish with <strong>End Proc</strong>.</li>&#10;</ul>&#10;<p>So the syntax is as follows:</p>&#10;<pre><code class="prism language-basic">Procedure COLLISION[INDEX2$]&#10;....&#10;&#8230; the instructions of your procedure&#10;....&#10;End Proc&#10;</code></pre>&#10;<p>When you put the name of your procedure anywhere in your program, it jumps into the quantum hyperspace and executes all the code of the procedure, and when it arrives at <strong>End Proc</strong> the execution of the program returns just after the call of the procedure.</p>&#10;<p>In the last program the procedure tests the variable named <strong>INDEX2$</strong> which will contain the name of the colliding actor.<br/>&#10;Remember the name of the procedure is set in the <strong>OnCollision$</strong> parameter (line 1).</p>&#10;<p>When the &#8220;magician&#8221; actor collides with another actor the procedure <strong>COLLISION</strong> will be called and the name of the colliding actor will be passed to the variable <strong>INDEX2$</strong>.</p>&#10;<ul>&#10;<li><em><strong>Line 8</strong></em>: We test whether <strong>INDEX2$</strong> is the other actor: &#171;lucie.png&#187;, if this is the case, a terrible bomb sound effect is emitted</li>&#10;<li><em><strong>Line 9</strong></em>: End of the procedure, which means we return right after the call of the procedure.</li>&#10;</ul>&#10;<hr/>&#10;<p align="center"><img valign="middle" width="76px" src="https://doc.aoz.studio/assets/images/en/image001.png"/>&#10;</p>&#10;<!--stackedit_data:&#10;eyJoaXN0b3J5IjpbMzQwMjYyOTE0LDEzNTExNDYzNTIsLTc3Nj&#10;AzNDgwNCw4NzAyMzIwMjYsNzMwOTk4MTE2XX0=&#10;-->&#10;
    </body>

    <script type="text/javascript">
        var current_zoom = 1.0;
        var destHTML = './public/default/user_guide/table_of_contents/010_going_further_with_actor/002_collisions/003_collision_with_the_actor_instruction.html';
        var sourceMD = './repository/md/documentation/default/user_guide/table_of_contents/010_going_further_with_actor/002_collisions/003_collision_with_the_actor_instruction.txt';

        if( window.parent && window.parent.current_zoom )
        {
            current_zoom = window.parent.current_zoom;
            if( window.parent.application )
            {
                window.parent.application.vars.CURRENT_HTML$ = destHTML;
                window.parent.application.vars.CURRENT_MD$ = sourceMD;
            }
        }

        setTimeout( function()
        {
            document.querySelectorAll( 'code' ).forEach( el => {
                el.innerHTML = Prism.highlight(el.textContent, Prism.languages.aoz, 'aoz' );
            } );
            var toggler = document.getElementsByClassName("caret");
            var i;
            for (i = 0; i < toggler.length; i  ) {
                toggler[i].addEventListener("click", function() {
                this.parentElement.querySelector(".nested").classList.toggle("active");
                this.classList.toggle("caret-down");
                });
            }

            setTimeout( function()
            {
                var elms = document.querySelectorAll( '.prism' );
                if( elms )
                {
                    for( var e = 0; e < elms.length; e++ )
                    {
                        var copyBtn = document.createElement( 'button' );
                        copyBtn.setAttribute( 'class', 'copy-btn' );
                        copyBtn.setAttribute( 'alt', 'Copy code' );
                        copyBtn.setAttribute( 'title', 'Copy code' );
                        copyBtn.innerHTML = 'Copy';
                        copyBtn.codeNode = elms[ e ];

                        copyBtn.addEventListener( 'click', function( event )
                        {
                            event.preventDefault();
                            if( navigator.clipboard )
                            {
                                var txt = this.codeNode.textContent;
                                navigator.clipboard.writeText( txt );
                            }
                        }, false );
                        elms[ e ].parentNode.appendChild( copyBtn );
                    }
                }
            }, 2000 )
        }, 1000 );
    </script>
</html>