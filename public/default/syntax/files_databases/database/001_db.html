<?DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="" />
        <meta name="author" content="aoz studio" />
        <meta name="keywords" content="aoz, studio, basic, amos, stos, amiga, atari, code, coding, program, development, html, javascript, game, application, " />
        <meta name="google-site-verification" content="">
        <meta name='copyright' content='AOZ Studio'>
        <meta name='Classification' content='Development'>
        <meta name='url' content='https://doc.aoz.studio/db'>
        <meta name='identifier-URL' content='https://doc.aoz.studio/db'>
        <meta name='pagename' content='AOZ Docs - DB'>
        <meta name='rating' content='General'>
        <meta name='revisit-after' content='7 days'>
        <meta name='target' content='all'>
        <meta name='date' content='Sun Apr 30 2023'>

        <title>AOZ Docs - DB</title>

        <!-- STYLESHEETS -->
        <link rel="stylesheet" href="https://stackedit.io/style.css" />
        <link rel="stylesheet" href="https://doc.aoz.studio/public/styles/prism.css" />

        <style type="text/css">
            /* PrismJS 1.29.0
            https://prismjs.com/download.html#themes=prism-tomorrow&languages=markup css clike javascript */
            code[class*=language-],pre[class*=language-]{color:#ccc;background:0 0;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}

            @font-face {
                font-family: 'Avenir Next LT Pro';
                src: url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpb.woff2') format('woff2'),
                    url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpb.woff') format('woff');
                font-weight: bold;
                font-style: normal;
                font-display: swap;
            }

            @font-face {
                font-family: 'Avenir Next LT Pro';
                src: url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpi.woff2') format('woff2'),
                    url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpi.woff') format('woff');
                font-weight: normal;
                font-style: italic;
                font-display: swap;
            }

            @font-face {
                font-family: 'Avenir Next LT Pro';
                src: url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpr.woff2') format('woff2'),
                    url('https://doc.aoz.studio/public/styles/fonts/avenir-nlpr.woff') format('woff');
                font-weight: normal;
                font-style: normal;
                font-display: swap;
            }

            @font-face {
                font-family: 'opendyslexicmonoregular';
                src: url('https://doc.aoz.studio/public/styles/fonts/dyslexia/opendyslexicmono-regular-webfont.woff2') format('woff2'),
                    url('https://doc.aoz.studio/public/styles/fonts/dyslexia/opendyslexicmono-regular-webfont.woff') format('woff');
                font-weight: normal;
                font-style: normal;

            }

            /**
                COLORS
            */
            :root{
                --primary-dark-bg-grey: #1C1C1C;
                --primary-dark-bg-white: #FFFFFF;
                --primary-dark-bg-orange: #FEAC00;
                --primary-dark-bg-blue: #355470;
                --primary-dark-bg-cyan: #048FAF;
                --primary-dark-bg-red: #CC0000;

                --second-dark-bg-grey: #A1A1A1;
                --second-dark-bg-blue: #2E475D;
                --second-dark-bg-cyan: #112D3C;
                --second-dark-bg-black: #000000;

                --primary-light-bg-white: #FFFFFF;
                --primary-light-bg-orange: #FFAB00;
                --primary-light-bg-blue: #17455E;
                --primary-light-bg-cyan: #048FAF;

                --second-light-bg-black: #000000;
                --second-light-bg-blue1: #102D3D;
                --second-light-bg-blue2: #153648;
                --second-light-bg-cyan1: #082E41;
                --second-light-bg-cyan2: #286074;
                --second-light-bg-orange1: #E29000;
                --second-light-bg-orange2: #FFAB00;
            }

            input:focus
            {
                outline: none;
            }

            /* width */
            ::-webkit-scrollbar {
            width: 10px;
            }

            /* Track */
            ::-webkit-scrollbar-track {
            background: var(--primary-dark-bg-blue);
            }

            /* Handle */
            ::-webkit-scrollbar-thumb {
            background: var(--second-dark-bg-grey);
            }

            /* Handle on hover */
            ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark-bg-orange);
            }

            .splitter
            {
                background-color: var( --primary-dark-bg-grey );
            }

            .splitter>.gutter
            {
                border: none;
                background-color: var( --primary-dark-bg-blue );
            }

            .panel
            {
                border: none;
                width: 100%;
                background-color: var( --primary-dark-bg-grey );
            }

            .panel .panel-content
            {
                background-color: var( --primary-dark-bg-grey );
            }

            .panel .panel-title
            {
                background-color:var( --primary-dark-bg-blue );
                color: var( --second-dark-bg-grey );
                border: none;
            }

            .panel .panel-title .caption
            {
                background-color:var( --primary-dark-bg-blue );
                color: var( --second-dark-bg-grey );
                border: none;
            }

            .panel .panel-title .icon
            {
                background-color:var( --primary-dark-bg-blue );
                color: var( --second-dark-bg-grey );
                border: none;
            }

            html, body
            {
                color: rgba(255,255,255,.75);
                background-color: #202020;
                font-family: 'Avenir Next LT Pro';
                font-size: 18px;
            }

            h1
            {
                font-size: 24px;
                color: var(--primary-dark-bg-cyan);
                font-weight: bold;
            }

            h2
            {
                font-size: 18px;
                color: var(--primary-dark-bg-cyan);
                font-weight: bold;
                margin-block-end:1;
            }

            h3
            {
                font-size: 14px;
                color: var(--primary-dark-bg-cyan);
                font-weight: bold;
                margin-block-end:0;
            }

            h4
            {
                font-size: 16px;
                color: var(--primary-dark-bg-cyan);
                margin-block-end:0;
            }

            pre
            {
                margin-block-start:0;
            }

            p
            {
                margin-block-start: 0;
            }

            td
            {
                border: none;
                vertical-align: middle;
            }

            .compatibility
            {
                position: absolute;
                top: 0px;
                width: 100%;
                height: 32px;
                text-align: right;
                padding: 4px;
                font-size: 14px;
            }
            .compatibility span
            {
                position:relative;
                top: 3px;
            }
            .compatibility img
            {
                padding-left: 4px;
            }

            #topics h1
            {
                background-image: url(svg/magic-hat.svg);
                background-repeat: no-repeat;
                background-position: left center;
                background-size: 24px;
                padding-left: 34px;
                color: var(--second-dark-bg-grey);
            }

            #topics ul
            {
                list-style-type: caret;
            }

            #topics .item_hide
            {
                display: none;
            }

            #topics .item_show
            {
                display: block;
            }

            #topics li
            {
                list-style-type: none;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: 10px;
                padding-left: 22px;
                color: var(--primary-dark-bg-cyan);
                cursor: pointer;
            }

            #topics li.chapter
            {
                background-image: url( svg/tick-ul.svg );
                font-weight: bold;
            }

            #topics li.page
            {
                background-image: url( svg/tick-li.svg );
            }

            #topics .select-topic
            {
                font-weight: bold;
                color: var( --primary-dark-bg-white );
            }

            a:not([class]) {
                color: var(--primary-dark-bg-orange);
            }

            a:not([class]):hover {
                color: var(--primary-light-bg-white);
                text-decoration: none;
            }

            #topics a:not([class]) {
                color: var(--primary-light-bg-cyan);
            }

            #topics a:not([class]):hover {
                color: var(--primary-light-bg-white);
                text-decoration: none;
            }
            .version
            {
                font-family: 'courier new';
                font-size: 12px;
                color: #00C0DD;
                position: absolute;
                left: 8px;
                top: 8px;
                z-index: 1000;
            }
            #toolbar
            {
                width: 100%;
                height: 48px;
                border-bottom: 2px #303030 solid;
                padding: 8px;
            }

            #toolbarBottom
            {
                width: 100%;
                height: 48px;
                border-bottom: 2px #303030 solid;
                padding: 8px;
                display: none;
            }

            #toolbar .mif-3x
            {
                margin-left: 8px;
                font-size: 32px;
            }

            #toolbar .mif-3x:hover
            {
                color: var( --primary-dark-bg-white );
                text-shadow: 0px 0px 8px var( --primary-dark-bg-orange );
            }

            #toolbar select
            {
                position: relative;
                font-size: 16px;
                font-family: "Avenir Next LT pro";
                color: #444444;
                display: none;
                border-radius: 16px;
                width: 64px;
                height: 24px;
                top: -10px;
                padding-left: 8px;
            }

            .search
            {
                position: absolute;
                display: inline-block;
                height: 48px;
                margin-left: 16px;
                margin-right: 16px;
                right: 0px;
                width: 50%;
            }

            .search input
            {
                position: absolute;
                width: 100%;
                height: 40px;
                border-radius: 33px;
                margin-left: 8px;
                padding-left: 40px;
                padding-right: 8px;
                top: -5px;
                background-image: url(svg/search.svg);
                background-repeat: no-repeat;
                background-position: 8px center;
                background-size: 28px;
                font-size: 24px;
                font-family: "Avenir Next LT pro";
                color: #444444;
            }

            .bloc-search
            {
                margin-block-end: 8px;
                padding: 8px;
                border-top: 1px solid #444444;
            }

            .bloc-search b
            {
            color: var(--primary-light-bg-orange);
            cursor: pointer;
            }

            .search_results
            {
                position: absolute;
                top: 0px;
                left:0px;
                width: 100%;
                text-align: right;
            }

            .scrollpane
            {
                position:relative;
                overflow:auto;
                width:100%;
                height:100%
            }

            #topics
            {
                width: 100%;
                height: 100%;
                height: auto;
                padding: 16px;
            }

            #page
            {
                margin-top:16px;
                width: 90%;
                height: 100%;
                margin-left: auto;
                margin-right: auto;
            }

            #md_login
            {
                display: none;
                position: fixed;
                left: 16px;
                top: 56px;
                width: 40px;
                height: 40px;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: contain;
                background-image: url(svg/login.svg);
                z-index: 100;
                cursor: pointer;
            }

            #md_gator
            {
                display: none;
                position: fixed;
                left: 16px;
                top: 56px;
                width: 40px;
                height: 40px;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: contain;
                background-image: url(svg/aligator.svg);
                z-index: 100;
                cursor: pointer;
            }

            #md_sync
            {
                display: none;
                position: fixed;
                right: 64px;
                top: 56px;
                width: 40px;
                height: 40px;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: contain;
                background-image: url(svg/sync.svg);
                z-index: 100;
                cursor: pointer;
            }

            #md_edit
            {
                display: none;
                position: fixed;
                right: 16px;
                top: 56px;
                width: 40px;
                height: 40px;
                background-repeat: no-repeat;
                background-position: left center;
                background-size: contain;
                background-image: url(svg/edit.svg);
                z-index: 100;
                cursor: pointer;
            }

            #frm_login
            {
                display: none;
                position: fixed;
                border-radius: 8px;
                width: 320px;
                height: 100px;
                background-color: var(--primary-dark-bg-blue);
                top: 64px;
                left: 80px;
                z-index: 100;
                padding: 12px;
            }

            #frm_login .log_tit
            {
                width: 100%;
                height: 40px;
                padding: 4px;
                text-align: center;
                color: #FFFFFF;
                font-weight:bold;
                font-size: 18px;
            }

            #frm_login button
            {
                position: absolute;
                right: 8px;
                top: 8px;
                border-radius: 4px;
                font-size: 17px;
                font-weight: bold;
                color: #c0c0c0;
                background-color:var(--primary-dark-bg-blue);
                border: 1px #c0c0c0 solid;
                width: 24px;
                height: 24px;
                cursor:pointer;
            }

            #frm_login input
            {
                width: 100%;
                height: 40px;
                padding: 4px;
                color: #404040;
                font-size: 18px;
            }

            #gator_mask
            {
                position: absolute;
                display: none;
                left: 0px;
                top: 0px;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 100;
                text-align: center;
            }

            #gator_mask button
            {
                position: absolute;
                right: 8px;
                top: 8px;
                border-radius: 4px;
                font-size: 37px;
                color: #ffffff;
                border: 1px #ffffff solid;
                width: 56px;
                height: 56px;
                cursor: pointer;
                background: none;
            }

            #gator_frame
            {
                position: relative;
                margin-top: 7%;
                margin-bottom: 7%;
                width: 70%;
                height: 70%;
                border: none;
            }

            blockquote
            {
                    color: inherit !important;
            }

            code
            {
                    line-height: 1.5em !important;
                    padding: 4px !important;
                    vertical-align: top !important;
            }

            button.copy-btn
            {
                position: relative;
                cursor: pointer;
                background-color: var(--second-dark-bg-grey);
                border-radius: 4px;
                border: none;
                height: 24px;
                width: 60px;
                font-size: 12px;
                font-family: 'Roboto Mono';
            }

            button.copy-btn:hover
            {
                background-color: var(--primary-dark-bg-cyan);
            }

            @media screen and (max-width:767px)
            {
            }

            @media screen and (min-width: 768px) and (max-width:1023px)
            {
            }

        </style>


        <!-- JAVASCRIPT -->
        <script type="text/javascript" src="https://unpkg.com/stackedit-js@1.0.7/docs/lib/stackedit.min.js"></script>
        <script type="text/javascript" src="https://doc.aoz.studio/public/js/libs/string-utils.js"></script>
        <script type="text/javascript" src="https://doc.aoz.studio/public/js/libs/md-parser.js"></script>
        <script type="text/javascript" src="https://doc.aoz.studio/public/js/libs/prism.js"></script>
        <script type="text/javascript" src="https://doc.aoz.studio/public/js/libs/languages/aoz.min.js"></script>

    </head>
    <body>
        <h1 id="db">DB</h1>&#10;<!--&#10;@name: DB&#10;@description: &#10;@tags: &#10;@categories: &#10;\-->&#10;<p>Switches to DB context. You can immediately execute some DB actions too.</p>&#10;<h2 id="description">Description</h2>&#10;<p><code>DB Context, DB$, Share$, Table$, New, PointOn, Read$, Search$, SearchAll, SearchSql$, Write$, WriteNew$</code></p>&#10;<p>If context is set, <code>DB</code> switches to the given context:</p>&#10;<ul>&#10;<li>First, the current context is saved so you will be able to switch back later</li>&#10;<li>Then, the wished context date is loaded and selected</li>&#10;</ul>&#10;<p>The information saved as context are:</p>&#10;<ul>&#10;<li>The selected database</li>&#10;<li>The selected table</li>&#10;<li>The selected record</li>&#10;<li>The list of records resulting the last search</li>&#10;</ul>&#10;<p>The other parameters allow you to immediately execute DB operations.<br/>&#10;They are an equivalent to call the matching DB instructions.</p>&#10;<ul>&#10;<li><code>DB$</code> and optional <code>Share$</code>: Selects the the database. See <code>DB Database</code>.</li>&#10;<li><code>Table$</code>: Selects the table. See <code>DB Table</code>.</li>&#10;<li><code>New</code>: Selects a new record. See <code>DB New</code>.</li>&#10;<li><code>PointOn</code>: Selects a record. See <code>DB Point On</code>.</li>&#10;<li><code>Read$</code>: Reads data from the database current record. See <code>DB Read</code>.</li>&#10;<li><code>Search$</code>: Search records matching the expression. See <code>DB Search</code>.</li>&#10;<li><code>SearchAll</code>: Search all records of the table. See <code>DB Search All</code>.</li>&#10;<li><code>SearchSql$</code>: Search records matching the SQL expression in SQL syntax. See <code>DB Search Sql</code>.</li>&#10;<li><code>Sql$</code>: Executes a native SQL statement. See <code>DB Sql</code>.</li>&#10;<li><code>Write$</code>: Write data to the database current record. See <code>DB Write</code>.</li>&#10;<li><code>WriteNew$</code>: Write data to a new record. See <code>DB Write New</code>.</li>&#10;</ul>&#10;<h2 id="parameters">Parameters</h2>&#10;<ul>&#10;<li><code>Context</code>: The context number to switch to.</li>&#10;<li><code>DB$</code>: The name of the database to be selected.</li>&#10;<li><code>Share$</code>: The database sharing mode.</li>&#10;<li><code>Table$</code>: The name of the table to be selected.</li>&#10;<li><code>New</code>: Point on a new record.</li>&#10;<li><code>PointOn</code>: Selects the record to which apply next <code>DB Read</code>, <code>DB Write</code> or <code>DB Delete</code> instructions.</li>&#10;<li><code>Read$</code>: The list of the <code>column=variable</code> names which values to read, separated by commas.</li>&#10;<li><code>Search$</code>: Search records matching the expression, most of times a couple of <code>Column1$=Value, Column2=101</code> filters.</li>&#10;<li><code>SearchAll</code>: Search all records of the current table, without any filter.</li>&#10;<li><code>SearchSql$</code>: Search records matching the matching expression, using a pure SQL syntax.</li>&#10;<li><code>Sql$</code>: Executes the SQL statement, using a pure SQL syntax.</li>&#10;<li><code>Write$</code>: The list of the <code>column=variable</code> names which values to write into the current record, separated by commas.</li>&#10;<li><code>WriteNew$</code>: The list of the <code>column=variable</code> names which values to write into a new record, separated by commas.</li>&#10;</ul>&#10;<h2 id="example">Example</h2>&#10;<p>This example shows how you can use contexts to read data from two tables in the same loop:</p>&#10;<pre><code class="prism language-basic">DB Database &#34;test&#34;&#10;DB 1, Table$ = &#34;address&#34;&#10;DB 2, Table$ = &#34;city&#34;&#10;&#10;Name$ = &#34;Paris&#34;  : DB Write New &#34;Name$&#34;&#10;Name$ = &#34;Rennes&#34; : DB Write New &#34;Name$&#34;&#10;Name$ = &#34;Lyon&#34;   : DB Write New &#34;Name$&#34;&#10;Name$ = &#34;Malta&#34;  : DB Write New &#34;Name$&#34;&#10;&#10;DB 2, Search$ = &#34;Name$=Paris&#34; : City_Id = DB Pointer()&#10;Name$ = &#34;Baptiste&#34; : DB 1, WriteNew$ = &#34;Name$, City_Id&#34;&#10;&#10;DB 2, Search$ =&#34;Name$=Rennes&#34; : City_Id = DB Pointer()&#10;Name$ = &#34;Baptiste&#34; : DB 1, WriteNew$ = &#34;Name$, City_Id&#34;&#10;&#10;DB 2, Search$ = &#34;Name$=Paris&#34; : City_Id = DB Pointer()&#10;Name$ = &#34;Laurant&#34; : DB 1, WriteNew$ = &#34;Name$, City_Id&#34;&#10;&#10;DB 2, Search$ = &#34;Name$=Malta&#34; : City_Id = DB Pointer()&#10;Name$ = &#34;Francois&#34; : DB 1, WriteNew$ = &#34;Name$, City_Id&#34;&#10;&#10;DB 1, Search$ = &#34;Name$=Baptiste&#34;&#10;While DB Pointer()&#10;&#9;DB Read &#34;City_Id&#34; : City_Id = DB Pointer()&#10;&#9;DB 2, PointOn = City_Id, Read$ = &#34;Name$&#34;&#10;&#9;Print &#34;&gt; There is one Baptiste living in &#34;; Name$&#10;&#9;DB 1&#10;&#9;DB Next&#10;Wend&#10;</code></pre>&#10;<p>This will get the city for each address and display:</p>&#10;<blockquote>&#10;<p>There is one Baptiste living in Paris <br/>&#10;There is one Baptiste living in Rennes</p>&#10;</blockquote>&#10;<h2 id="notes">Notes</h2>&#10;<p>This is an advanced feature&#160;: you can use DB features without this DB instruction.<br/>&#10;Please make sure you understand the concept of DB context before going further whit this.</p>&#10;<hr/>&#10;<p align="center"><img valign="middle" width="76px" src="https://doc.aoz.studio/assets/images/en/image001.png"/></p>&#10;<!--stackedit_data:&#10;eyJoaXN0b3J5IjpbLTE1MDc2OTc2MDYsMTA4ODQ1OTU1OF19&#10;-->&#10;
    </body>

    <script type="text/javascript">
        var current_zoom = 1.0;
        var destHTML = './public/default/syntax/files_databases/database/001_db.html';
        var sourceMD = './repository/md/documentation/default/syntax/files_databases/database/001_db.txt';

        if( window.parent && window.parent.current_zoom )
        {
            current_zoom = window.parent.current_zoom;
            if( window.parent.application )
            {
                window.parent.application.vars.CURRENT_HTML$ = destHTML;
                window.parent.application.vars.CURRENT_MD$ = sourceMD;
            }
        }

        setTimeout( function()
        {
            document.querySelectorAll( 'code' ).forEach( el => {
                el.innerHTML = Prism.highlight(el.textContent, Prism.languages.aoz, 'aoz' );
            } );
            var toggler = document.getElementsByClassName("caret");
            var i;
            for (i = 0; i < toggler.length; i  ) {
                toggler[i].addEventListener("click", function() {
                this.parentElement.querySelector(".nested").classList.toggle("active");
                this.classList.toggle("caret-down");
                });
            }

            setTimeout( function()
            {
                var elms = document.querySelectorAll( '.prism' );
                if( elms )
                {
                    for( var e = 0; e < elms.length; e++ )
                    {
                        var copyBtn = document.createElement( 'button' );
                        copyBtn.setAttribute( 'class', 'copy-btn' );
                        copyBtn.setAttribute( 'alt', 'Copy code' );
                        copyBtn.setAttribute( 'title', 'Copy code' );
                        copyBtn.innerHTML = 'Copy';
                        copyBtn.codeNode = elms[ e ];

                        copyBtn.addEventListener( 'click', function( event )
                        {
                            event.preventDefault();
                            if( navigator.clipboard )
                            {
                                var txt = this.codeNode.textContent;
                                navigator.clipboard.writeText( txt );
                            }
                        }, false );
                        elms[ e ].parentNode.appendChild( copyBtn );
                    }
                }
            }, 2000 )
        }, 1000 );
    </script>
</html>